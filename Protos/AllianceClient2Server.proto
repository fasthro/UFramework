syntax = "proto3";
package NBSGame.PB;

option java_package = "com.rhea.pIII.game.core.cmd.protocol";
option java_outer_classname = "AllianceClinet2ServerProtocol";

import "Common.proto";

//cmdId:11001 创建军团:------------------------------------------------------------------------------
message C2S_CreateAlliance
{
    string name = 1;
}

message S2C_CreateAlliance
{}


//cmdId:11002 获取军团信息:------------------------------------------------------------------------------
message C2S_GetAllianceInfo
{
    int64 allianceId = 1;
}

message S2C_GetAllianceInfo
{
    string name = 1;    //军团名称
    int64 leaderPlayerId = 2;	//盟主id
    string leaderName = 3;  //盟主名称
    int64 diplomatistPlayerId = 4;	//外交官玩家id
    string diplomatistName = 5; //外交官名称
    int32 level = 6;    //等级
    int32 memberCount = 7;  //人数
    int32 memberMax = 8;    //人数上限
    int32 region = 9; //所属州
    int32 power = 10;    //势力值
    int32 townCount = 11;    //城池数
    string notice = 12; //公告
    int32 resMax = 13;  //资源上限
    int32 res1 = 14;    //资源列表
    int32 res2 = 15;
    int32 res3 = 16;
    int32 res4 = 17;
    int32 score = 18;	//军团经验
    int32 scoreMax = 19;	//军团升级需要经验
    int32 relation = 20;	//军团关系 关系 0-中立 1-友好 2-敌对
    bool isReleve = 21;	//是否解除中
}

//cmdId:11004 申请加入军团:------------------------------------------------------------------------------
message C2S_ApplyAlliance
{
    int64 allianceId = 1;
}

message S2C_ApplyAlliance
{}

//cmdId:11005 申请加入军团列表:------------------------------------------------------------------------------
message C2S_ApplyAllianceList
{}

message S2C_ApplyAllianceList
{
    repeated ApplyAllianceInfo allianceInfo = 1;
    int64 joinAllianceCoolTime = 2;	//加军团冷却时间，单位毫秒，若为0则处于非冷却期
}

message ApplyAllianceInfo
{
    int64 allianceId = 1;   //军团id
    string name = 2;    //军团名
    int32 level = 3;    //等级
    int32 memberCount = 4;  //人数
    int32 memberMax = 5;    //人数上限
    int32 region = 6; //所属州
    int32 distance = 7;    //距离(远、近)
    bool isJoin = 8;    //是否可直接加入
    bool isApply = 9; //是否已申请（非可直接加入军团可用）
}

//cmdId:11006 申请加入军团玩家列表:------------------------------------------------------------------------------
message C2S_ApplyAlliancePlayerList
{}

message S2C_ApplyAlliancePlayerList
{
    repeated ApplyAlliancePlayerInfo playerInfo = 1;
    bool isOpen = 2;    //是否开放
}

message ApplyAlliancePlayerInfo
{
    int64 playerId = 1; //玩家id
    string name = 2;    //名称
    int32 power = 3;    //势力值
    int32 region = 4;   //所属州
    bool isRead = 5;    //是否已读
    int64 applyTime = 6;    //申请时间戳
}

//cmdId:11007 申请加入军团处理:------------------------------------------------------------------------------
message C2S_ApplyAllianceProcessor
{
    int64 playerId = 1;
    bool isAgree = 2; //是否同意
}

message S2C_ApplyAllianceProcessor
{}

//cmdId:11008 邀请加入军团:------------------------------------------------------------------------------
message C2S_InviteAlliance
{
    int64 playerId = 1;
}

message S2C_InviteAlliance
{}

//cmdId:11009 邀请加入军团列表:------------------------------------------------------------------------------
message C2S_InviteAllianceList
{}

message S2C_InviteAllianceList
{
    repeated InviteAllianceInfo inviteAllianceInfo = 1;
}

message InviteAllianceInfo
{
    int64 allianceId = 1;   //军团id
    string name = 2;    //军团名称
    int32 level = 3;    //等级
    int32 memberCount = 4;  //人数
    int32 memberMax = 5;    //人数上限
    string invitePlayerName = 6; //邀请发出人名称
}

//cmdId:11010 邀请加入军团处理:------------------------------------------------------------------------------
message C2S_InviteAllianceProcessor
{
    int64 allianceId = 1;
    bool isAgree = 2; //是否同意
}

message S2C_InviteAllianceProcessor
{}

//cmdId:11011 清空邀请加入军团列表:------------------------------------------------------------------------------
message C2S_ClearInviteAlliance
{}

message S2C_ClearInviteAlliance
{}

//cmdId:11012 获取军团成员列表:------------------------------------------------------------------------------
message C2S_GetMemberList
{}

message S2C_GetMemberList
{
    repeated MemberInfo memberInfo = 1;
    int64 demiseTimestamp = 2;	//禅让结束时间戳，若无禅让为-1
}

message MemberInfo
{
    int64 playerId = 1; //玩家id
    string name = 2;    //名称
    int32 avatar = 3;	//头像
    int32 power = 4;    //势力值
    int32 region = 5;   //所属州
    int32 cellId = 6;   //坐标
    int32 position = 7; //职位
    int32 contribution = 8; //贡献总量
    int32 contributionWeek = 9; //周贡献总量
    int32 score = 10;    //战功总量
    int32 scoreWeek = 11;    //周战功总量
    int32 donate = 12;  //捐献总量
    int32 donateWeek = 13;  //周捐献总量
    bool isCapture = 14;	//是否被俘虏
}

//cmdId:11013 获取军团俘虏列表:------------------------------------------------------------------------------
message C2S_GetCaptureList
{}

message S2C_GetCaptureList
{
    repeated CaptureInfo captureInfo = 1;
}

message CaptureInfo
{
    int64 playerId = 1; //玩家id
    string name = 2;    //名称
    int32 region = 3;   //所属州
    int32 cellId = 4;   //坐标
    int64 captureTimestamp = 5;	//被俘虏时间戳
}

//cmdId:11014 获取军团分组列表:------------------------------------------------------------------------------
message C2S_GetGroupList
{}

message S2C_GetGroupList
{
    repeated GroupInfo groupInfo = 1;
}

message GroupInfo
{
    int64 groupId = 1;  //分区id
    string name = 2;    //分组名称
    string leaderName = 3;  //组长名
    int32 count = 4;   //人数
    int32 avgScore = 5; //人均战功总量
    int32 avgScoreWeek = 6; //人均周战功总量
    int32 avgDonate = 7;    //人均捐献总量
    int32 avgDonateWeek = 8;    //人均周捐献总量
    int64 leaderPlayrId = 9;	//组长id
}

//cmdId:11015 获取军团加成:------------------------------------------------------------------------------
message C2S_GetAllianceAddition
{}

message S2C_GetAllianceAddition
{
    int32 res1addition = 1; //资源1加成
    int32 res2addition = 2; //资源2加成
    int32 res3addition = 3; //资源3加成
    int32 res4addition = 4; //资源4加成
    int32 memberAddition = 5; //成员人数增加
    int32 townRes1addition = 6; //城池资源1加成
    int32 townRes2addition = 7; //城池资源2加成
    int32 townRes3addition = 8; //城池资源3加成
    int32 townRes4addition = 9; //城池资源4加成
    int32 townMemberAddition = 10; //城池成员人数增加
}

//cmdId:11016 获取军团日志:------------------------------------------------------------------------------
message C2S_GetLogList
{
    int32 type = 1; //类型
}

message S2C_GetLogList
{
    repeated LogItem item = 1;
}

message LogItem
{
  int64 timeStamp = 1;	//时间戳，毫秒
  CommonText text = 2;	//通用客户端文字
}

//cmdId:11017 修改军团公告:------------------------------------------------------------------------------
message C2S_ChangeNotice
{
    string notice = 1;
}

message S2C_ChangeNotice
{}

//cmdId:11018 任命官员界面:------------------------------------------------------------------------------
message C2S_AppointOfficerView
{}

message S2C_AppointOfficerView
{
    repeated OfficerItem item = 1; //官员列表
}

message OfficerItem
{
    string name = 1; //名字
    int32 position = 2; //职位
}

//cmdId:11019 任命官员:------------------------------------------------------------------------------
message C2S_AppointOfficer
{
    int64 playerId = 1;
    int32 position = 2;
}

message S2C_AppointOfficer
{}

//cmdId:11020 罢免官员:------------------------------------------------------------------------------
message C2S_RecallOfficer
{
    int64 playerId = 1;
}

message S2C_RecallOfficer
{}

//cmdId:11021 禅让军团长:------------------------------------------------------------------------------
message C2S_AllianceDemise
{
    int64 playerId = 1;
}

message S2C_AllianceDemise
{}

//cmdId:11022 取消禅让军团长:------------------------------------------------------------------------------
message C2S_ConncelAllianceDemise
{}

message S2C_ConncelAllianceDemise
{}

//cmdId:11023 踢出军团:------------------------------------------------------------------------------
message C2S_KickMember
{
    int64 playerId = 1;
}

message S2C_KickMember
{}

//cmdId:11024 退出军团:------------------------------------------------------------------------------
message C2S_QuitAlliance
{}

message S2C_QuitAlliance
{}

//cmdId:11026 创建分组:------------------------------------------------------------------------------
message C2S_CreateGroup
{
    string name = 1;    //分组名称
    repeated int64 playerIds = 2; //成员列表
}

message S2C_CreateGroup
{}

//cmdId:11027 编辑分组:------------------------------------------------------------------------------
message C2S_EditGroup
{
    int64 groupId = 1;
    string name = 2;    //分组名称
    repeated int64 playerIds = 3; //成员列表
}

message S2C_EditGroup
{}

//cmdId:11028 获取可任命组长列表:------------------------------------------------------------------------------
message C2S_GetAppointGroupLeaderList
{}

message S2C_GetAppointGroupLeaderList
{
    repeated AppointGroupLeader leader = 1; //任命组长官员列表
}

message AppointGroupLeader
{
    int64 playerId = 1; //玩家id
    string name = 2;    //名称
    int32 position = 3;	//职位
}

//cmdId:11029 任命组长:------------------------------------------------------------------------------
message C2S_AppointGroupLeader
{
    int64 playerId = 1;
    int64 groupId = 2;
}

message S2C_AppointGroupLeader
{}

//cmdId:11030 罢免组长:------------------------------------------------------------------------------
message C2S_RecallGroupLeader
{
    int64 groupId = 1;
}

message S2C_RecallGroupLeader
{}

//cmdId:11031 解散分组:------------------------------------------------------------------------------
message C2S_DissolveGroup
{
    int64 groupId = 1;
}

message S2C_DissolveGroup
{}

//cmdId:11032 获取移动分组列表:------------------------------------------------------------------------------
message C2S_GetMoveGroupList
{
    int64 groupId = 1;  //所在分组id
}

message S2C_GetMoveGroupList
{
    repeated MoveGroupInfo groups = 1;
}

message MoveGroupInfo
{
    int64 groupId = 1;  //分组id
    string name = 2;    //分组名称
}

//cmdId:11033 移动分组:------------------------------------------------------------------------------
message C2S_MoveGroup
{
    int64 playerId = 1; //玩家id
    int64 newGroupId = 2;  //新分组id
}

message S2C_MoveGroup
{}

//cmdId:11034 移出分组:------------------------------------------------------------------------------
message C2S_RemoveGroup
{
    int64 playerId = 1; //玩家id
}

message S2C_RemoveGroup
{}

//cmdId:11035 获取分组信息:------------------------------------------------------------------------------
message C2S_GetGroupInfo
{
    int64 groupId = 1;
}

message S2C_GetGroupInfo
{
    string name = 1;    //分组名称
    repeated GroupMemberInfo memberInfo = 2;    //成员列表
}

message GroupMemberInfo
{
    int64 playerId = 1; //玩家id
    string name = 2;    //名称
    int32 score = 3;    //战功
    int32 scoreWeek = 4;    //周战功
    int32 power = 5;    //势力
}

//cmdId:11036 获取未分组成员列表:------------------------------------------------------------------------------
message C2S_GetNotGroupMemberList
{}

message S2C_GetNotGroupMemberList
{
    repeated GroupMemberInfo memberInfo = 1;    //未分组成员列表
}

//cmdId:11037 获取军团成员列表:------------------------------------------------------------------------------
message C2S_GetGroupMemberList
{
    int64 groupId = 1;
}

message S2C_GetGroupMemberList
{
    repeated MemberInfo memberInfo = 1;
    int64 leaderPlayerId = 2;	//管理员playerId，若没有则为-1;
}

//cmdId:11038 退出分组:------------------------------------------------------------------------------
message C2S_QuitGroup
{}

message S2C_QuitGroup
{}

//cmdId:11039 取消申请加入军团:------------------------------------------------------------------------------
message C2S_CancelApplyAlliance
{
    int64 allianceId = 1;
}

message S2C_CancelApplyAlliance
{}

//cmdId:11040 设置军团开放:------------------------------------------------------------------------------
message C2S_SetAllianceOpen
{
    bool isOpen = 1;	//是否开放
}

message S2C_SetAllianceOpen
{}

//cmdId:11041 全部拒绝申请加入军团处理:------------------------------------------------------------------------------
message C2S_ApplyAllianceAllReject
{
}

message S2C_ApplyAllianceAllReject
{}

//cmdId:11042 军团排行榜:------------------------------------------------------------------------------
message C2S_AllianceRank
{

}

message S2C_AllianceRank
{
    int64 allianceId = 1;//军团id(没有军团为-1)
    string allianceName = 2;//军团名称
    int32 rank=  3;//排名（没入榜为-1）
    int32 level = 4;//等级
    int32 memberCount = 5;//成员数量
    int32 townCount = 6;//城池数量
    int32 region = 7;//州
    int32 power = 8;//实力
    repeated AllianceRankInfo allianceRankInfo = 9;//排名军团信息
}
message AllianceRankInfo
{
    int64 allianceId = 1;//军团id
    string allianceName = 2;//军团名称
    int32 rank=  3;//排名
    int32 level = 4;//等级
    int32 memberCount = 5;//成员数量
    int32 townCount = 6;//城池数量
    int32 region = 7;//州
    int32 power = 8;//实力
}

//cmdId:11043 添加军团标志:------------------------------------------------------------------------------
message C2S_AddAllianceFavorite
{
	int32 cellId = 1;	//地图id
	string name = 2;
	string content = 3;
}

message S2C_AddAllianceFavorite
{}

//cmdId:11044 取消军团标志:------------------------------------------------------------------------------
message C2S_CancelAllianceFavorite
{
	int32 cellId = 1;
}

message S2C_CancelAllianceFavorite
{}

//cmdId:11045 获取军团标志列表:------------------------------------------------------------------------------
message C2S_GetAllianceFavoriteList
{}

message S2C_GetAllianceFavoriteList
{
	repeated AllianceFavoriteItem items = 1;
}

message AllianceFavoriteItem
{
	int32 cellId = 1;
	string name = 2;
	int64 createTime = 3;	//创建时间戳（毫秒）
	int64 cretatPlayerId = 4;
}

//cmdId:11046 获取军团标志详情:------------------------------------------------------------------------------
message C2S_GetAllianceFavoriteDetail
{
	int32 cellId = 1;
}

message S2C_GetAllianceFavoriteDetail
{
	string name = 1;
	string content = 2;
	string createPlayerName = 3;
	int64 cretatPlayerId = 4;
	int32 cellId = 5;
}

//cmdId:11047 获取军团捐献信息:------------------------------------------------------------------------------
message C2S_GetAllianceDonationInfo
{}

message S2C_GetAllianceDonationInfo
{
	int32 level = 1;
	int32 currentScore = 2;
	int32 needScore = 3;
	int32 allianceResMax = 4;
	int32 allianceRes1 = 5;
	int32 allianceRes2 = 6;
	int32 allianceRes3 = 7;
	int32 allianceRes4 = 8;
}

//cmdId:11048 军团捐献:------------------------------------------------------------------------------
message C2S_AllianceDonation
{
	int32 res1 = 1;
	int32 res2 = 2;
	int32 res3 = 3;
	int32 res4 = 4;
}

message S2C_AllianceDonation
{}

//cmdId:11049 设置军团关系:------------------------------------------------------------------------------
message C2S_SetAllianceRelation
{
	int64 allianceId = 1;
	int32 relation = 2;	//关系 0-中立 1-友好 2-敌对
}

message S2C_SetAllianceRelation
{}

//cmdId:11050 军团关系列表:------------------------------------------------------------------------------
message C2S_AllianceRelationList
{}

message S2C_AllianceRelationList
{
	repeated AllianceRelationItem items = 1;
}

message AllianceRelationItem
{
	int64 allianceId = 1;
	string name = 2;
	int32 level = 3;
	int32 power = 4;
	int32 memberCount = 5;
	int32 region = 6;
	int32 relation = 7; //关系 0-中立 1-友好 2-敌对
	int32 releveRemainingTime = 8; //解除剩余时间，单位秒，若为-1则不处于解除状态
}

//cmdId:11051 结盟请求列表:------------------------------------------------------------------------------
message C2S_AllianceAllyApplyList
{}

message S2C_AllianceAllyApplyList
{
	repeated AllianceAllyApplyItem items = 1;
}

message AllianceAllyApplyItem
{
	int64 allianceId = 1;
	string name = 2;
	int32 level = 3;
	int32 power = 4;
	int32 memberCount = 5;
	int32 region = 6;
}

//cmdId:11052 结盟申请处理:------------------------------------------------------------------------------
message C2S_AllianceAllyApplyProcessor
{
	int64 allianceId = 1;
	bool isAgree = 2;
}

message S2C_AllianceAllyApplyProcessor
{}

//cmdId:11053 检查军团关系:该协议在11049前发送，若关系有问题则会给出错误提示，关系成立则成功返回------------------------------------------------------------------------------
message C2S_CheckAllianceRelation
{
	int64 allianceId = 1;
	int32 relation = 2;	//关系 0-中立 1-友好 2-敌对
}

message S2C_CheckAllianceRelation
{}
